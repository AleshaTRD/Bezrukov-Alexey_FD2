<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>b4+</title>
  </head>

  <body>
    <div id="app"></div>
    <p style="font-size: 30px; color: red">123</p>
    <script>
      const app = document.getElementById("app");

      function buildWrapper(tag) {
        return function (text, atr) {
          const atrArr = [];
          if (atr) {
            for (let key in atr) {
              let atrString = ` ${key} = "${atr[key]}"`;
              atrArr.push(atrString);
            }
          }

          let reText = text
            .split("")
            .map((el) => {
              const dict = {
                "<": "&lt;",
                ">": "&gt;",
                "'": "&apos;",
                '"': "&quot;",
                "&": "&amp;",
              };
              if (el in dict) {
                return dict[el];
              }
              return el;
            })
            .join("");
          return `<${tag} ${atrArr}>${reText}</${tag}>`;
        };
      }
      const wrapH1 = buildWrapper("h1");
      const wrapP = buildWrapper("p");
      console.log(wrapP("Однажды в студёную зимнюю пору"));
      console.log(
        wrapP("Однажды в студёную зимнюю пору", {
          lang: "ru",
          style: "color: 'red'",
        })
      );
      console.log(wrapH1("СТИХИ", { align: "center", title: "M&M's" }));

      // console.log(wrapP("<Вкусные M&M's>"));

      const test1 = wrapH1("СТИХИ", {
        align: "center",
        title: "M&M's",
        style: "color: red ;",
      });
      const test2 = wrapP("Однажды в студёную зимнюю пору", {
        align: "center",
        lang: "ru",
        style: "font-size: 30px; color: red;",
        align: "center",
      });
      // const test3 = wrapP("<Вкусные M&M's>");

      res = test1 + test2;
      // console.log(res);
      app.innerHTML = res;
    </script>
  </body>
</html>
<!-- "B5+ -->
<!-- Напишите функцию для оборачивания текста в тег с атрибутами, с которой можно было бы работать в следующем стиле:
  var wrapP=buildWrapper(""P"");   // строим функцию для оборачивания текста в тег P
  console.log( wrapP(""Однажды в студёную зимнюю пору"") );
  // в консоль выводится строка ""<P>Однажды в студёную зимнюю пору</P>""
  console.log( wrapP(""Однажды в студёную зимнюю пору"",{lang:""ru""}) );
  // в консоль выводится строка ""<P lang='ru'>Однажды в студёную зимнюю пору</P>""
Функция должна учитывать, что некоторые символы надо заменять на HTML-мнемоники (а именно - символы < > ' "" &):
  console.log( wrapP(""Однажды в <студёную> зимнюю пору"") );
  // в консоль выводится строка ""<P>Однажды в &lt;студёную&gt; зимнюю пору</P>""
  var wrapH1=buildWrapper(""H1""); // строим функцию для оборачивания текста в тег H1
  console.log( wrapH1(""СТИХИ"",{align:""center"",title:""M&M's""}) );
  // в консоль выводится строка ""<H1 align='center' title='M&amp;M&apos;s'>СТИХИ</H1>""" -->
